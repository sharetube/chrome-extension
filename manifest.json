{
  "{{chrome}}.manifest_version": 3,
  "{{firefox}}.manifest_version": 2,
  "version": "1.0.0",
  "{{chrome}}.version_name": "1.0.0 beta (Oly)",
  "name": "ShareTube",
  "short_name": "ST",
  "author": "Sharetube team",
  "description": "A browser extension that lets you watch yotube videos together with your friends in real-time!",
  "permissions": ["storage", "tabs", "webNavigation"],
  "minimum_chrome_version": "116",
  "options_page": "./pages/options/options.html",
  "icons": {
    "16": "assets/icon16.png",
    "32": "assets/icon32.png",
    "48": "assets/icon48.png",
    "128": "assets/icon128.png"
  },
  "action": {
    "default_popup": "./pages/popup/popup.html"
  },
  "content_scripts": [
    {
      "matches": ["https://*.youtube.com/*"],
      "js": ["content-script/index.ts"],
      "run_at": "document_start"
    },
    {
      "js": ["scripts/setVideo.ts"],
      "matches": ["https://*.youtube.com/*"],
      "world": "MAIN",
      "run_at": "document_start"
    }
  ],
  "background": {
    "{{chrome}}.service_worker": "background-script/index.ts",
    "{{firefox}}.scripts": ["background-script/index.ts"],
    "{{firefox}}.persistent": true
  },
  "{{chrome}}.minimum_chrome_version": "116",
  "{{chrome}}.web_accessible_resources": [
    {
      "matches": [],
      "resources": ["pages/error.html", "pages/loading.html", "pages/cat-sleep.gif"],
      "use_dynamic_url": false
    }
  ],
  "{{firefox}}.web_accessible_resources": [
    "pages/error.html",
    "pages/loading.html",
    "pages/cat-sleep.gif"
  ],
  "{{firefox}}.browser_specific_settings": {
    "gecko": {
      "id": "sharetube.team@gmail.com",
      "strict_min_version": "78.0"
    },
    "gecko_android": {
      "strict_min_version": "79.0"
    }
  }
}
